{# app/templates/profile.html â€” activity_level used instead of activity_multiplier #}
{% extends "layout.html" %}
{% block content %}
<h2>Profile</h2>
<form method="post" action="{{ url_for('profile.profile') }}">
  <div class="mb-2">
    <label>Full name</label>
    <input class="form-control" name="full_name" value="{{ user.full_name or '' }}" disabled>
  </div>
  <div class="mb-2">
    <label>Sex</label>
    <select class="form-control" name="sex">
      <option value="male" {% if user.sex=='male' %}selected{% endif %}>Male</option>
      <option value="female" {% if user.sex=='female' %}selected{% endif %}>Female</option>
      <option value="other" {% if user.sex=='other' %}selected{% endif %}>Other</option>
    </select>
  </div>

  <div class="mb-2">
    <label>Age</label>
    <input class="form-control" name="age" value="{{ user.age or '' }}">
  </div>

  <div class="mb-2">
    <label>Height (cm)</label>
    <input class="form-control" name="height_cm" value="{{ user.height_cm or '' }}">
  </div>

  <div class="mb-2">
    <label>Weight (kg)</label>
    <input class="form-control" name="weight_kg" value="{{ user.weight_kg or '' }}">
  </div>

  <div class="mb-2">
    <label>Activity level</label>
    <select class="form-control" name="activity_level">
      <option value="" {% if not user.activity_level %}selected{% endif %}>(not set)</option>
      <option value="sedentary" {% if user.activity_level=='sedentary' %}selected{% endif %}>Sedentary (little/no exercise)</option>
      <option value="light" {% if user.activity_level=='light' %}selected{% endif %}>Light (1-3 days/week)</option>
      <option value="moderate" {% if user.activity_level=='moderate' %}selected{% endif %}>Moderate (3-5 days/week)</option>
      <option value="active" {% if user.activity_level=='active' %}selected{% endif %}>Active (6-7 days/week)</option>
      <option value="very" {% if user.activity_level=='very' %}selected{% endif %}>Very active (hard daily exercise)</option>
    </select>
  </div>

  <div class="mb-2">
    <label>Goal</label>
    <select class="form-control" name="goal">
      <option value="maintain" {% if user.goal=='maintain' %}selected{% endif %}>Maintain</option>
      <option value="lose" {% if user.goal=='lose' %}selected{% endif %}>Lose</option>
      <option value="gain" {% if user.goal=='gain' %}selected{% endif %}>Gain</option>
    </select>
  </div>

  <button class="btn btn-primary" type="submit">Save profile</button>
</form>

{% if user.target_calories %}
  <div class="mt-3">
    <p><strong>Current target calories:</strong> {{ user.target_calories|round }}</p>
  </div>
{% endif %}
{% endblock %}
